<!DOCTYPE html>
<html>
    <head>
        <title>
            DOM Project 2
        </title>
    </head>

    <body>
      <p>Rock Paper Sciccors</p>
      <button onclick="
        userChoice = 'ROCK';
        playGame(userChoice);
        updateAll();
        ">Rock</button>
      <button onclick="
        userChoice = 'PAPER';
        playGame(userChoice);
        updateAll();
        ">Paper</button>
      <button onclick="
        userChoice = 'SCISSORS';
        playGame(userChoice);
        updateAll();
        ">Scissors</button>
    
      
      <p
      id="result">Result</p>
      <p
      id="move">Your Move - Computer Move</p>
      <p
      id="tally">Wins: 0, Losses: 0, Ties: 0</p>
      

      <button onclick="
        tally.reset();
        updateTally();
        ">Reset Score</button>
      <button onclick="test()"
      >TESTER</button>

      <script>
        const resultElement = document.getElementById('result');
        const moveElement = document.getElementById('move');
        const tallyElement = document.getElementById('tally');
        let result = "none";
        let userChoiceInput = "none";
        let compChoice = "none";
        
        const tally = {
            wins: 0,
            losses: 0,
            ties: 0,
                                   
            addWin: function(){
                this.wins ++ ;
            },
            addLoss: function(){
                this.losses ++ ;
            },
            addTie: function(){
                this.ties ++ ;
            },
            reset: function(){
                this.wins = 0;
                this.losses = 0;
                this.ties = 0;
            }
        }

        function playGame(userChoiceInput) {
            const compNum = Math.random();
            let compChoice = 'none';
            let result = 'none';

            console.log(`userChoice: ${userChoiceInput} and
            compNum: ${compNum}`);

            // Find Computer Choice
            if (compNum < 1/3) {
                compChoice = 'ROCK';
            } else if ((compNum > 1/3) && (compNum < 2/3)) {
                compChoice = 'PAPER';
            } else {
                compChoice = 'SCISSORS';
            }

            console.log(`compChoice: ${compChoice}`);

            // Decide Winner
            if (userChoiceInput == 'ROCK'){
                if (compChoice === 'PAPER'){
                    result = 'LOSS';
                    tally.addLoss();
                } else if (compChoice === 'SCISSORS'){
                    result = 'WIN';
                    tally.addWin();
                } else {
                    result = 'TIE';
                    tally.addTie();
                }

            }

            if (userChoiceInput == 'PAPER'){
                if (compChoice === 'SCISSORS'){
                    result = 'LOSS';
                    tally.addLoss();
                } else if (compChoice === 'ROCK'){
                    result = 'WIN';
                    tally.addWin();
                } else {
                    result = 'TIE';
                    tally.addTie();
                }

            }

            if (userChoiceInput == 'SCISSORS'){
                if (compChoice === 'ROCK'){
                    result = 'LOSS';
                    tally.addLoss();
                } else if (compChoice === 'PAPER'){
                    result = 'WIN';
                    tally.addWin();
                } else {
                    result = 'TIE';
                    tally.addTie();
                }

            }

            resultVar = result;
            userChoiceVar = userChoiceInput;
            compChoiceVar = compChoice;

            console.log(`Result: ${result}`);
            console.log(`Wins: ${tally.wins}\nLosses: ${tally.losses}\nTies: ${tally.ties}`)
        }

        function updateAll() {
            resultElement.innerHTML = resultVar;
            moveElement.innerHTML = `Your move: ${userChoiceVar} Computer: ${compChoiceVar}`;
            tallyElement.innerHTML = `Wins: ${tally.wins} Losses: ${tally.losses} Ties: ${tally.ties}`
        }

        function updateTally() {
            tallyElement.innerHTML = `Wins: ${tally.wins} Losses: ${tally.losses} Ties: ${tally.ties}`
        }

        // console.log(document.getElementById('result').innerText);

        function test() {
            resultElement.innerText = "Flamingo";
            moveElement.innerText = "Flamingo";
            tallyElement.innerText = "Flamingo";
        }


      </script>
    </body>

</html>